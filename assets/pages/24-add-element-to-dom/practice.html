<!DOCTYPE html>
<html lang="ko-KR">
  <head>
    <title>DOM에 요소 추가</title>
    <style>
      [id^="practice"] {
        display: flex;
        flex-flow: column;
        align-items: start;
        gap: 12px;
        padding: 12px;

        * {
          margin-block: 0;
        }
      }

      h2 {
        font-size: 1.2rem;
      }

      hr {
        margin-block: 20px;
        margin-inline: 12px;
        border: 0;
        border-block-end: 1px solid #aaa;
      }

      .todo-list {
        list-style-type: "";
        padding-inline-start: 0;
        display: grid;
        gap: 8px;
      }
    </style>
  </head>

  <body>
    <section id="practice1">
      <h2>📋 오늘의 할 일</h2>
      <form>
        <input type="text" aria-label="할 일" placeholder="할 일 작성" />
        <button type="submit">추가</button>
      </form>
      <ul class="todo-list"></ul>
    </section>

    <script>
      // 실습 1. 할 일 추가
      // 사용자가 "할 일" 입력 후, 추가 버튼을 누르면
      // 할 일 목록 요소에 새 "할 일"이 추가되도록 구현합니다.
      (() => {
        // 할 일 목록 (참고)
        const todos = [
          "아침 식사 준비하기",
          "출근 준비하기",
          "이불 정리하기",
          "식물에 물 주기",
          "운동 30분 하기",
          "이메일 확인하기",
          "중요 서류 정리하기",
          "점심 메뉴 정하기",
          "친구에게 안부 문자 보내기",
          "책 10페이지 읽기",
          "쓰레기 분리수거 하기",
          "반려동물 산책시키기",
          "저녁 식사 준비하기",
          "우유나 식재료 사기",
          "가족과 대화 나누기",
          "내일 일정 미리 확인하기",
          "설거지 하기",
          "스트레칭이나 요가 하기",
          "집안 환기시키기",
          "일기 쓰기",
        ];
        const practice1 = document.querySelector("#practice1");
        const form = practice1.querySelector("form");
        form.addEventListener("submit", (event) => {
          event.preventDefault(); // 폼 제출 기본 동작 방지

          const todoInput = form.elements[0]; // 첫 번째 입력 요소 가져오기
          const input = todoInput; // 입력 요소를 변수에 할당
          const todoText = input.value.trim(); // 입력값에서 공백 제거

          if (todoText === "") {
            alert("할 일을 입력해주세요."); // 입력값이 비어있으면 경고 메시지 표시
            return; // 입력값이 비어있으면 함수 종료
          }

          // 할 일 목록에 새 항목 추가
          const todoList = practice1.querySelector(".todo-list");
          const newTodoItem = document.createElement("li");
          newTodoItem.textContent = todoText;
          todoList.appendChild(newTodoItem); // 새 항목을 목록에 추가, ol안에 li로 삽입

          // 입력 필드 초기화
          input.value = "";
          //입력 필드에 focus 설정
          input.focus();
        });
      })();
    </script>

    <hr />

    <section id="practice2">
      <h2>🍜 라면 레시피</h2>
      <button type="button">"면을 넣고" 앞에 추가</button>
      <ol class="recipe-list">
        <li>물을 냄비에 붓고 끓입니다.</li>
        <li>면을 넣고 3~4분간 끓입니다.</li>
      </ol>
    </section>

    <script>
      // 실습 2. 다른 요소 앞에 추가
      // "면을 넣고" 앞에 추가 버튼을 누르면 "물이 끓으면 스프를 넣습니다." 항목을
      // "면을 넣고" 항목 앞에 추가하는 코드를 작성합니다.
      (() => {
        const button = document.querySelector("#practice2 button");
        button.addEventListener("click", () => {
          const recipeList = document.querySelector(".recipe-list");
          const newStep = document.createElement("li");
          newStep.textContent = "물이 끓으면 스프를 넣습니다.";
          recipeList.insertBefore(newStep, recipeList.children[1]); // "면을 넣고" 앞에 추가
          // 한번 추가되면 두번째부턴 중지
          button.disabled = true; // 버튼 비활성화
          button.textContent = "이미 추가되었습니다."; // 버튼 텍스트 변경
        });
      })();
    </script>

    <hr />

    <div id="practice3">
      <button type="button">다른 목록으로 이동</button>

      <h2>🍉 좋아하는 과일</h2>
      <ol class="fruits-i-like">
        <li>수박</li>
        <li>망고</li>
      </ol>

      <h2>🍇 안 좋아하는 과일</h2>
      <ol class="fruits-i-dont-like">
        <li>포도</li>
      </ol>
    </div>

    <script>
      // 실습 3. 다른 목록으로 이동
      // 실습 3. 다른 목록으로 이동
      // "다른 목록으로 이동" 버튼을 클릭하면
      // "망고"를 "안 좋아하는 과일" 목록으로 이동하는 코드를 작성합니다.
      // "포도" 앞에 "망고"를 삽입
      // 1회만 클릭 이벤트가 작동
      (() => {
        const button = document.querySelector("#practice3 button");
        button.addEventListener("click", () => {
          const fruitsILike = document.querySelector(".fruits-i-like");
          const fruitsIDontLike = document.querySelector(".fruits-i-dont-like");
          const mango = fruitsILike.querySelector("li:nth-child(2)"); //망고 선택
          fruitsIDontLike.insertBefore(mango, fruitsIDontLike.firstChild); // 포도 앞에 망고 삽입
          button.disabled = true; // 버튼 비활성화
          button.textContent = "이미 이동되었습니다."; // 버튼 텍스트 변경
        });
      })();
    </script>
  </body>
</html>
